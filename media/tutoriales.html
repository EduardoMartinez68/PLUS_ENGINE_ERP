<script>
function formatCurrency(amount, currencyCode = 'MXN', withCode = false, withSymbol = false) {
  const localeMap = {
    MXN: 'es-MX',
    USD: 'en-US',
    EUR: 'de-DE',
    GBP: 'en-GB',
    JPY: 'ja-JP',
    BRL: 'pt-BR',
    ARS: 'es-AR',
    CLP: 'es-CL',
    FRF: 'fr-FR',
  };

  const locale = localeMap[currencyCode] || 'en-US';

  // Obtener el nÃºmero formateado como texto
  const formattedNumber = new Intl.NumberFormat(locale, {
    style: 'decimal',
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  }).format(amount);

  // Obtener sÃ­mbolo si se requiere
  let symbol = '';
  if (withSymbol) {
    symbol = new Intl.NumberFormat(locale, {
      style: 'currency',
      currency: currencyCode,
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    })
      .formatToParts(amount)
      .find(part => part.type === 'currency')?.value || '';
  }

  // Construir resultado
  let result = formattedNumber;
  if (withSymbol) result = symbol + ' ' + result;
  if (withCode) result += ' ' + currencyCode;

  return result.trim();
}

// ðŸ”Ž Ejemplos:
console.log(formatCurrency(1000, 'MXN'));                   // "1,000.00"
console.log(formatCurrency(1000, 'MXN', true));             // "1,000.00 MXN"
console.log(formatCurrency(1000, 'MXN', false, true));      // "$ 1,000.00"
console.log(formatCurrency(1000, 'MXN', true, true));       // "$ 1,000.00 MXN"
console.log(formatCurrency(1000, 'EUR', true, true));       // "â‚¬ 1.000,00 EUR"
console.log(formatCurrency(1000, 'EUR', false, true));      // "â‚¬ 1.000,00"
console.log(formatCurrency(1000, 'EUR'));                   // "1.000,00"
</script>
